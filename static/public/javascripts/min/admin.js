function notify(e,t,o){iziToast.show({color:"dark",backgroundColor:"RGB(42,63,84)",icon:"fa fa-comments-o",title:e,message:t,position:"bottomRight",layout:1,resetOnHover:!0,animateInside:!1,buttons:[["<button>Open</button>",o]]})}var FeedbackState=function(){var e;return function t(){var o=0;return this.addToCount=function(e){o+=e,$("#user-profile").addClass("has-new-items"),$("#user-profile__feedbacks .badge").text(o)},this.subtractFromCount=function(e){o-=e,console.log(o),o>0?($("#user-profile").addClass("has-new-items"),$("#user-profile__feedbacks .badge").text(o)):($("#user-profile").removeClass("has-new-items"),$("#user-profile__feedbacks .badge").text(""))},this.resetCount=function(){o=0,$("#user-profile").removeClass("has-new-items"),$("#user-profile__feedbacks .badge").text("")},this.getState=function(){return{feedbacksCount:o}},e||(this&&this.constructor===t?void(e=this):new t)}}(),socket=io("/admin");socket.on("hello",function(e){console.log(e)}),socket.on("for user",function(e){console.log(">>>>",e)}),socket.on("feedbacks/new",function(e){FeedbackState().addToCount(1),console.log(e),notify(e.email,e.shortMessage,function(){window.location.href=e._links.self})}),socket.on("feedbacks/viewed",function(e){FeedbackState().subtractFromCount(1)}),$(function(){function e(e){$(".modal .modal-dialog").attr("class","modal-dialog  "+e+"  animated")}$.get("/api/feedbacks/status/new/count").done(function(e){console.log(FeedbackState()),FeedbackState().addToCount(e.count)}),$("#user-profile__feedbacks a").click(function(e){e.preventDefault(),FeedbackState().resetCount(),notify("Welcome","How are you?")}),$(".modal").on("show.bs.modal",function(t){e("fadeIn")}),$(".modal").on("hide.bs.modal",function(t){e("fadeOut")}),$.ajax({url:"/static/handlebars/pagination.hbs",async:!1}).done(function(e){Handlebars.registerPartial("pagination",e)})}),Handlebars.registerHelper("times",function(e,t){for(var o="",n=0;n<e;++n)o+=t.fn(n);return o}),Handlebars.registerHelper("inc",function(e,t){return parseInt(e)+1}),Handlebars.registerHelper("if_eq",function(e,t,o){return e===t?o.fn(this):o.inverse(this)}),Handlebars.registerHelper("is_last_page",function(e,t){return e.page+1==e.totalPages?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("pagination",function(e,t,o,n){var a,s,r;3===arguments.length&&(n=o,o=5),a=e-Math.floor(o/2),s=e+Math.floor(o/2),a<=0&&(s-=a-1,a=1),s>t&&(s=t,a=s-o+1>0?s-o+1:1),r={startFromFirstPage:!1,pages:[],endAtLastPage:!1},1===a&&(r.startFromFirstPage=!0);for(var i=a;i<=s;i++)r.pages.push({page:i,pageNum:i,isCurrent:i===e});return s===t&&(r.endAtLastPage=!0),n.fn(r)});